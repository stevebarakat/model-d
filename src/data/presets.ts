import { SynthState } from "@/store/types/synth";

export interface Preset {
  id: string;
  name: string;
  description: string;
  category: string;
  parameters: Partial<SynthState>;
  shareURL?: string; // Optional URL for sharing
}

export const presets: Preset[] = [
  {
    id: "air-bass",
    name: "Air Bass",
    description:
      "Light, airy bass with subtle noise and smooth filter movement.",
    category: "Bass",
    parameters: {
      oscillator1: {
        waveform: "sawtooth",
        frequency: 0,
        range: "32",
        enabled: true,
      },
      oscillator2: {
        waveform: "sawtooth",
        frequency: -2,
        range: "32",
        enabled: true,
      },
      oscillator3: {
        waveform: "triangle",
        frequency: -2,
        range: "16",
        enabled: true,
      },
      mixer: {
        osc1: { enabled: true, volume: 6 },
        osc2: { enabled: true, volume: 6 },
        osc3: { enabled: true, volume: 6 },
        noise: { enabled: true, volume: 2, noiseType: "white" },
        external: { enabled: false, volume: 2, overload: false },
      },
      filterCutoff: 2.5,
      filterEmphasis: 2.5,
      filterAttack: 0.5,
      filterDecay: 2.5,
      filterSustain: 7.5,
      filterContourAmount: 7.5,
      filterModulationOn: true,
      keyboardControl1: true,
      loudnessAttack: 0.5,
      loudnessDecay: 2.5,
      loudnessSustain: 7.5,
      mainVolume: 6,
      glideOn: true,
      glideTime: 6.5,
      modMix: 0,
      modWheel: 0,
      osc3Control: true,
      osc3FilterEgSwitch: true,
      lfoRate: 0,
      lfoWaveform: "triangle",
      decaySwitchOn: true,
      oscillatorModulationOn: true,
    },
  },
  {
    id: "midnight-funk",
    name: "Midnight Funk",
    description:
      "Funky, modulated synth sound with triangle LFO and rich filter movement.",
    category: "Funk",
    parameters: {
      oscillator1: {
        waveform: "sawtooth",
        frequency: 0,
        range: "16",
        enabled: true,
      },
      oscillator2: {
        waveform: "sawtooth",
        frequency: 0,
        range: "16",
        enabled: true,
      },
      oscillator3: {
        waveform: "pulse1",
        frequency: -0.25,
        range: "32",
        enabled: true,
      },
      mixer: {
        osc1: { enabled: true, volume: 10 },
        osc2: { enabled: true, volume: 8 },
        osc3: { enabled: true, volume: 6 },
        noise: { enabled: false, volume: 0, noiseType: "white" },
        external: { enabled: false, volume: 0, overload: false },
      },
      filterCutoff: 3,
      filterEmphasis: 8,
      filterAttack: 0,
      filterDecay: 2,
      filterSustain: 8,
      filterContourAmount: 8,
      loudnessAttack: 0,
      loudnessDecay: 3,
      loudnessSustain: 8,
      mainVolume: 7,
      glideOn: false,
      glideTime: 0,
      keyboardControl1: true,
      osc3FilterEgSwitch: true,
      osc3Control: true,
      modWheel: 0,
      modMix: 10,
    },
  },
  {
    id: "sawyer-bass",
    name: "Sawyer = Bass",
    description:
      "Classic Moog bass inspired by the Sawyer sound. Adjust External Input Volume to taste.",
    category: "Bass",
    parameters: {
      oscillator1: {
        waveform: "sawtooth",
        frequency: 0,
        range: "32",
        enabled: true,
      },
      oscillator2: {
        waveform: "sawtooth",
        frequency: 0,
        range: "16",
        enabled: true,
      },
      oscillator3: {
        waveform: "triangle",
        frequency: 0,
        range: "8",
        enabled: true,
      },
      mixer: {
        osc1: { enabled: true, volume: 10 },
        osc2: { enabled: true, volume: 10 },
        osc3: { enabled: true, volume: 10 },
        noise: { enabled: false, volume: 0, noiseType: "white" },
        external: { enabled: true, volume: 5, overload: false },
      },
      filterCutoff: 2.5,
      filterEmphasis: 2.5,
      filterAttack: 0,
      filterDecay: 2.5,
      filterSustain: 7.5,
      filterContourAmount: 7.5,
      filterModulationOn: true,
      keyboardControl1: true,
      loudnessAttack: 0,
      loudnessDecay: 2.5,
      loudnessSustain: 7.5,
      mainVolume: 7.5,
      glideOn: true,
      glideTime: 6.5,
      modMix: 10,
      modWheel: 0,
      osc3Control: true,
      osc3FilterEgSwitch: true,
      lfoRate: 2.5,
      lfoWaveform: "triangle",
      decaySwitchOn: true,
      oscillatorModulationOn: true,
    },
  },
  {
    id: "kraft-bass",
    name: "Kraft Bass",
    description:
      "Set the LFO Rate knob to triangle wave (down position). Adjust External Input Volume to taste. Use Mod Wheel to introduce vibrato.",
    category: "Bass",
    parameters: {
      oscillator1: {
        waveform: "sawtooth",
        frequency: 0,
        range: "32",
        enabled: true,
      },
      oscillator2: {
        waveform: "triangle",
        frequency: 0,
        range: "32",
        enabled: true,
      },
      oscillator3: {
        waveform: "sawtooth",
        frequency: 0,
        range: "16",
        enabled: true,
      },
      mixer: {
        osc1: { enabled: true, volume: 10 },
        osc2: { enabled: true, volume: 10 },
        osc3: { enabled: true, volume: 10 },
        noise: { enabled: false, volume: 0, noiseType: "white" },
        external: { enabled: true, volume: 5, overload: false },
      },
      filterCutoff: 2.5,
      filterEmphasis: 0,
      filterAttack: 0,
      filterDecay: 5,
      filterSustain: 0,
      filterContourAmount: 5,
      filterModulationOn: false,
      keyboardControl1: true,
      keyboardControl2: true,
      loudnessAttack: 0,
      loudnessDecay: 3.5,
      loudnessSustain: 8.5,
      mainVolume: 5,
      glideOn: false,
      glideTime: 6.5,
      modMix: 10,
      osc3Control: false,
      osc3FilterEgSwitch: true,
      lfoRate: 3,
      lfoWaveform: "triangle",
      decaySwitchOn: true,
      oscillatorModulationOn: true,
    },
  },
  {
    id: "dark-toms",
    name: "Dark Toms",
    description: "Deep, percussive tom sound. No additional notes.",
    category: "Percussion",
    parameters: {
      oscillator1: {
        waveform: "triangle",
        frequency: 0,
        range: "32",
        enabled: true,
      },
      oscillator2: {
        waveform: "triangle",
        frequency: 0,
        range: "16",
        enabled: false,
      },
      oscillator3: {
        waveform: "triangle",
        frequency: 0,
        range: "8",
        enabled: false,
      },
      mixer: {
        osc1: { enabled: true, volume: 10 },
        osc2: { enabled: false, volume: 0 },
        osc3: { enabled: false, volume: 0 },
        noise: { enabled: true, volume: 7, noiseType: "white" },
        external: { enabled: false, volume: 0, overload: false },
      },
      filterCutoff: 2.5,
      filterEmphasis: 2.5,
      filterAttack: 0,
      filterDecay: 2.5,
      filterSustain: 0,
      filterContourAmount: 7.5,
      filterModulationOn: true,
      keyboardControl1: true,
      loudnessAttack: 0,
      loudnessDecay: 2.5,
      loudnessSustain: 0,
      mainVolume: 7.5,
      glideOn: true,
      glideTime: 2,
      modMix: 8,
      osc3Control: true,
      osc3FilterEgSwitch: true,
      lfoRate: 2,
      lfoWaveform: "triangle",
      decaySwitchOn: true,
      oscillatorModulationOn: true,
    },
  },
  {
    id: "vocal-bot",
    name: "Vocal Bot",
    description: "Set the LFO Rate knob to triangle wave (down position).",
    category: "Vocal",
    parameters: {
      oscillator1: {
        waveform: "triangle",
        frequency: 0,
        range: "32",
        enabled: true,
      },
      oscillator2: {
        waveform: "triangle",
        frequency: 0,
        range: "16",
        enabled: false,
      },
      oscillator3: {
        waveform: "triangle",
        frequency: 0,
        range: "8",
        enabled: true,
      },
      mixer: {
        osc1: { enabled: true, volume: 10 },
        osc2: { enabled: false, volume: 0 },
        osc3: { enabled: true, volume: 10 },
        noise: { enabled: false, volume: 0, noiseType: "white" },
        external: { enabled: false, volume: 0, overload: false },
      },
      filterCutoff: 2.5,
      filterEmphasis: 2.5,
      filterAttack: 0,
      filterDecay: 2.5,
      filterSustain: 7.5,
      filterContourAmount: 7.5,
      filterModulationOn: true,
      keyboardControl1: true,
      loudnessAttack: 0,
      loudnessDecay: 2.5,
      loudnessSustain: 7.5,
      mainVolume: 7.5,
      glideOn: true,
      glideTime: 2,
      modMix: 8,
      osc3Control: true,
      osc3FilterEgSwitch: true,
      lfoRate: 2,
      lfoWaveform: "triangle",
      decaySwitchOn: true,
      oscillatorModulationOn: true,
    },
  },
];

export const getPresetById = (id: string): Preset | undefined => {
  return presets.find((preset) => preset.id === id);
};

export const getPresetsByCategory = (category: string): Preset[] => {
  return presets.filter((preset) => preset.category === category);
};

export const getCategories = (): string[] => {
  return [...new Set(presets.map((preset) => preset.category))];
};
